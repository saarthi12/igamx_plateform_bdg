import{v as I,a as j,L as te}from"./page-home-fb16cb98.js";import{V as O,r as c,G as z,K as U,C as $,aN as K,w as X,I as Y,ab as L,a0 as M,W as S,X as k,a4 as d,D as u,a8 as A,aj as B,Y as r,_ as m,a5 as W,a6 as q,aC as H,k as p,J as D,ad as Q,ae as Z,a7 as g,$ as C}from"./modules-fbc96342.js";import{u as F,A as R,b6 as oe,b7 as ee,b8 as se,_ as J,bw as re,bd as ne,k as le,G as ie}from"./page-activity-8d7959ff.js";import{c as ue,P as V,V as de,E as me,b as pe}from"./page-login-3b2f45d5.js";import"./native/index-08561a08.js";import"./en-bab51ca4.js";import"./rus-ecb14220.js";import"./vi-82b0febd.js";import"./id-16b6cb52.js";import"./hd-c5b1d7e8.js";import"./tha-330057b2.js";import"./md-e8a5e3b0.js";import"./bra-6692a9a5.js";import"./my-32fb9d60.js";import"./bdt-d8f19d0c.js";import"./zh-7d334abd.js";import"./pak-cdc12211.js";import"./ar-1c9ff85b.js";const ce=v=>(Q("data-v-fbdcabe2"),v=v(),Z(),v),ve={class:"register__container"},we={class:"register__container-tip"},_e=ce(()=>r("div",{class:"tipbg"},null,-1)),be={class:"register__container-tips"},ge={class:"register__container-remember"},fe={class:"register__container-button"},he=O({__name:"ResetPassword",setup(v,{expose:P}){const T=c("reset"),{t:n}=z(),o=F(),l=U(),w=c(!1),f=c(!1),_=c(!1),e=c({numberType:o.userForm.numberType,number:"",password:"",rePassword:"",smsvcode:""});sessionStorage.getItem("rpwd")&&(e.value=JSON.parse(sessionStorage.getItem("rpwd")||""),sessionStorage.setItem("rpwd","")),$(()=>o.rPwdForm.numberType,a=>{!e.value.numberType&&(e.value.numberType=a)},{flush:"post"});const s=async()=>{const a=(e.value.number.trim()+e.value.numberType).length;if(a<10||a>14)return o.setCountDown(0),p({message:n("wrongTel"),wordBreak:"break-word"});await R(oe({phone:e.value.numberType+e.value.number,codeType:ee.resetPassword}))?D(n("sendSuccess")):setTimeout(()=>{o.setCountDown(0)},500)};async function b(){const a=(e.value.number.trim()+e.value.numberType).length;if(a<10||a>14)return p({message:n("wrongTel"),wordBreak:"break-word"});if(!e.value.number.trim()||w.value){w.value=!0;return}if(o.isOpenForgetPasswordSMSState)if(e.value.smsvcode.trim()){if(e.value.smsvcode.trim().length!=4)return p({message:n("verifyCode6Digits"),wordBreak:"break-word"})}else return p({message:n("registerTip1"),wordBreak:"break-word"});if(!I.passReg3.test(e.value.password)){_.value=!0;return}if(!e.value.rePassword.trim())return p({message:n("registerTip3"),wordBreak:"break-word"});if(e.value.password!==e.value.rePassword){f.value=!0;return}else f.value=!1;if(!o.userForm.termAndPolicy)return p({message:n("registerDesc1"),wordBreak:"break-word"});const{numberType:t,number:y,password:i,smsvcode:G}=e.value;let ae={username:t+y.trim(),password:i,smsvcode:G,type:"mobile"};await R(se(ae))&&(l.push("/login"),D(n("rpdsucceed")))}K(window,"keydown",a=>{a.key=="Enter"&&b()});const h=()=>{l.push({name:"About-AboutDetail"})},E=a=>{e.value.numberType=a},x=a=>{e.value.number=a};X(()=>{o.setCountDown(0)});let N=$(()=>e.value.number,a=>{o.setCountDown(0)},{flush:"post"});return Y(()=>{N()}),L((a,t)=>{a.name=="About-AboutDetail"?sessionStorage.setItem("rpwd",JSON.stringify(e.value)):sessionStorage.setItem("rpwd","")}),P({showPhoneValidate:w}),(a,t)=>{const y=M("van-checkbox");return S(),k("div",ve,[d(ue,{"show-validate":w.value,"onUpdate:showValidate":t[0]||(t[0]=i=>w.value=i),"number-type":e.value.numberType,number:e.value.number,type:T.value,onChangeT:E,onChangeN:x},null,8,["show-validate","number-type","number","type"]),d(V,{value:e.value.password,"onUpdate:value":t[1]||(t[1]=i=>e.value.password=i),label:u(n)("newPSWRest")},null,8,["value","label"]),A(r("div",we,[_e,r("span",null,m(u(n)("pswRule")),1)],512),[[B,_.value]]),d(V,{value:e.value.rePassword,"onUpdate:value":t[2]||(t[2]=i=>e.value.rePassword=i),label:u(n)("newPSWconfirm")},null,8,["value","label"]),A(r("div",be,[r("span",null,m(u(n)("unmatchedInput")),1)],512),[[B,f.value]]),d(de,{value:e.value.smsvcode,"onUpdate:value":t[3]||(t[3]=i=>e.value.smsvcode=i),number:e.value.number,sendFunc:s,numberType:e.value.numberType,loginType:"1"},null,8,["value","number","numberType"]),r("div",ge,[d(y,{modelValue:u(o).userForm.termAndPolicy,"onUpdate:modelValue":t[5]||(t[5]=i=>u(o).userForm.termAndPolicy=i),"checked-color":"#C7A054"},{default:W(()=>[q(m(u(n)("readNagree"))+" ",1),r("span",{onClick:t[4]||(t[4]=H(i=>h(),["stop"]))},m(u(n)("desPrivacy")),1)]),_:1},8,["modelValue"])]),r("div",fe,[r("button",{onClick:b},m(u(n)("reset")),1)])])}}});const ye=J(he,[["__scopeId","data-v-fbdcabe2"]]),Se=v=>(Q("data-v-8257ce7d"),v=v(),Z(),v),ke={class:"register__container"},Pe={class:"register__container-tip"},Te=Se(()=>r("div",{class:"tipbg"},null,-1)),Ce={class:"register__container-tips"},Ie={class:"register__container-remember"},$e={class:"register__container-button"},Ae=O({__name:"ResetEmailPassword",setup(v,{expose:P}){const{registerState:T}=re();T();const n=c("reset"),{t:o}=z(),l=F(),w=U(),f=c(!1),_=c(!1),e=c(!1),s=c({numberType:l.userForm.numberType,number:"",email:"",password:"",rePassword:"",smsvcode:""});sessionStorage.getItem("rpwd")&&(s.value=JSON.parse(sessionStorage.getItem("rpwd")||""),sessionStorage.setItem("rpwd","")),$(()=>l.rPwdForm.numberType,a=>{!s.value.numberType&&(s.value.numberType=a)},{flush:"post"});const b=async()=>{if(!I.email1.test(s.value.email))return l.setCountEmailDown(0),p({message:o(j.email),wordBreak:"break-word"});await R(ne({email:s.value.email,emailType:ee.resetPassword}))?D(o("sendSuccess")):setTimeout(()=>{l.setCountEmailDown(0)},500)};async function h(){if(!I.email1.test(s.value.email))return p({message:o(j.email),wordBreak:"break-word"});if(l.isOpenForgetPasswordEmailState)if(s.value.smsvcode.trim()){if(s.value.smsvcode.trim().length!=6)return p({message:o("verifyCode6Digits"),wordBreak:"break-word"})}else return p({message:o("registerTip6"),wordBreak:"break-word"});if(!I.passReg3.test(s.value.password)){e.value=!0;return}if(!s.value.rePassword.trim())return p({message:o("registerTip3"),wordBreak:"break-word"});if(s.value.password!==s.value.rePassword){_.value=!0;return}else _.value=!1;if(!l.userForm.termAndPolicy)return p({message:o("registerDesc1"),wordBreak:"break-word"});const{email:a,password:t,smsvcode:y}=s.value;let i={username:a.trim(),password:t,type:"email",smsvcode:y};await R(se(i))&&(w.push("/login"),D(o("rpdsucceed")))}K(window,"keydown",a=>{a.key=="Enter"&&h()});const E=()=>{w.push({name:"About-AboutDetail"})},x=a=>{s.value.email=a};X(()=>{l.setCountEmailDown(0)});let N=$(()=>s.value.email,a=>{l.setCountEmailDown(0)},{flush:"post"});return Y(()=>{N()}),L((a,t)=>{a.name=="About-AboutDetail"?sessionStorage.setItem("rpwd",JSON.stringify(s.value)):sessionStorage.setItem("rpwd","")}),P({showPhoneValidate:f}),(a,t)=>{const y=M("van-checkbox");return S(),k("div",ke,[d(me,{ref:"email",type:n.value,email:s.value.email,onChangeN:x},null,8,["type","email"]),d(V,{value:s.value.password,"onUpdate:value":t[0]||(t[0]=i=>s.value.password=i),label:u(o)("newPSWRest")},null,8,["value","label"]),A(r("div",Pe,[Te,r("span",null,m(u(o)("pswRule")),1)],512),[[B,e.value]]),d(V,{value:s.value.rePassword,"onUpdate:value":t[1]||(t[1]=i=>s.value.rePassword=i),label:u(o)("newPSWconfirm")},null,8,["value","label"]),A(r("div",Ce,[r("span",null,m(u(o)("unmatchedInput")),1)],512),[[B,_.value]]),d(pe,{value:s.value.smsvcode,"onUpdate:value":t[2]||(t[2]=i=>s.value.smsvcode=i),sendFunc:b,email:s.value.email},null,8,["value","email"]),r("div",Ie,[d(y,{modelValue:u(l).userForm.termAndPolicy,"onUpdate:modelValue":t[4]||(t[4]=i=>u(l).userForm.termAndPolicy=i),"checked-color":"#C7A054"},{default:W(()=>[q(m(u(o)("readNagree"))+" ",1),r("span",{onClick:t[3]||(t[3]=H(i=>E(),["stop"]))},m(u(o)("desPrivacy")),1)]),_:1},8,["modelValue"])]),r("div",$e,[r("button",{onClick:h},m(u(o)("reset")),1)])])}}});const Be=J(Ae,[["__scopeId","data-v-8257ce7d"]]),De={class:"rpwd__C"},Fe={class:"rpwd__C-heading"},Re={class:"rpwd__C-heading__title"},Ve={class:"rpwd__C-heading__subTitle"},Ee={class:"login_container-tab"},xe={class:"rpwd__C-form"},Ne=O({__name:"index",setup(v){const{t:P}=le.global,T=ie(),n=F();n.getRegisterState();const o=U(),l=c("phone");n.isOpenForgetPasswordSMSState||(l.value="email");const w=c(!0);function f(){o.go(-1)}const _=e=>{l.value=e};return T.token&&(w.value=!1),L((e,s,b)=>{e.name!=="About-AboutDetail"&&F().clearRpwdData(),b()}),(e,s)=>{const b=M("NavBar");return S(),k("div",De,[d(b,{onClickLeft:f,leftArrow:!0,headLogo:!0},{right:W(()=>[d(te)]),_:1}),r("div",Fe,[r("h1",Re,m(u(P)("forgetPSW")),1),r("div",Ve,[r("div",null,m(e.$t("changepasswordphoneoremail")),1)])]),r("div",Ee,[u(n).isOpenForgetPasswordSMSState?(S(),k("div",{key:0,class:g(["tab",[l.value=="phone"?"active":""]]),onClick:s[0]||(s[0]=h=>_("phone"))},[r("div",{class:g(["phonebg",[l.value=="phone"?"phoneactive":""]])},null,2),r("div",{class:g(["font30",[l.value=="phone"?"phonefont30active":""]])},m(e.$t("changepasswordphone")),3)],2)):C("",!0),u(n).isOpenForgetPasswordEmailState?(S(),k("div",{key:1,class:g(["tab",[l.value=="email"?"active":""]]),onClick:s[1]||(s[1]=h=>_("email"))},[r("div",{class:g(["emialbg",[l.value=="email"?"emailactive":""]])},null,2),r("div",{class:g(["font30",[l.value=="email"?"emailfont30active":""]])},m(e.$t("changepasswordemail")),3)],2)):C("",!0)]),r("div",xe,[u(n).isOpenForgetPasswordSMSState?(S(),k("div",{key:0,class:g(["tab-content",[l.value=="phone"?"activecontent":""]])},[d(ye)],2)):C("",!0),u(n).isOpenForgetPasswordEmailState?(S(),k("div",{key:1,class:g(["tab-content",[l.value=="email"?"activecontent":""]])},[d(Be)],2)):C("",!0)])])}}});const ts=J(Ne,[["__scopeId","data-v-fe082a93"]]);export{ts as default};
