import{v as K,a as ne,L as De}from"./page-home-fb16cb98.js";import{V as X,G as le,r as m,K as Q,F as U,C as j,w as ue,ab as Z,a0 as ee,a1 as de,X as R,a4 as h,Y as t,D as u,_ as v,$ as F,ac as ce,a8 as $,aj as z,am as ve,a5 as te,aS as me,k as p,J as ge,x as J,ad as pe,ae as _e,W as S,a6 as be,aC as he,aT as fe,a7 as D}from"./modules-fbc96342.js";import{c as Fe,V as $e,P as W,S as we,E as Ee,b as Be}from"./page-login-3b2f45d5.js";import{S as Ae,u as ae,c5 as ie,A as q,b6 as Me,b7 as ye,aY as Se,G as se,bb as ke,g as Ie,_ as re,bd as Ve,aV as Ne,cp as xe}from"./page-activity-8d7959ff.js";import"./native/index-08561a08.js";import"./en-bab51ca4.js";import"./rus-ecb14220.js";import"./vi-82b0febd.js";import"./id-16b6cb52.js";import"./hd-c5b1d7e8.js";import"./tha-330057b2.js";import"./md-e8a5e3b0.js";import"./bra-6692a9a5.js";import"./my-32fb9d60.js";import"./bdt-d8f19d0c.js";import"./zh-7d334abd.js";import"./pak-cdc12211.js";import"./ar-1c9ff85b.js";const Oe=f=>(pe("data-v-be086d67"),f=f(),_e(),f),Ue=["onKeydown"],qe={class:"tip"},Ge={key:0,class:"red"},He={key:1,class:"red"},Le={class:"register__container-tip"},Ke=Oe(()=>t("div",{class:"tipbg"},null,-1)),ze={class:"register__container-tips"},Je={class:"register__container-invitation"},We={class:"register__container-invitation__label"},Ye={class:"register__container-invitation__label-icon"},je={class:"register__container-invitation__input"},Xe=["placeholder","disabled"],Qe={class:"register__container-remember"},Ze={class:"register__container-button"},et={class:"account"},tt={class:"loginin"},at=X({__name:"Register",props:{registerData:{}},setup(f,{expose:x}){const w=f,{t:e}=le(),g=Ae(),i=ae(),o=m(!1),a=m({number:"",numberType:i.rPwdForm.numberType,smsvcode:"",password:"",rePassword:"",invitecode:"",registerType:"mobile"}),I=m("register");a.value.number="",sessionStorage.getItem("register_a")&&(a.value=JSON.parse(sessionStorage.getItem("register_a")||""),sessionStorage.setItem("register_a",""));const y=Q(),n=m(!1),b=m(!1),k=U(()=>{var s,r,_;return!!((s=y.currentRoute.value.query)!=null&&s.invitationCode||(_=(r=y.currentRoute.value.query)==null?void 0:r.r_code)!=null&&_.toString()||sessionStorage.getItem("invitecode"))}),P=U(()=>w.registerData.isInvitecode=="1"?e("plsEnterInvitationCode"):e("notNecessary")),E={}.VITE_SHOWREGISTERTIP||!1;j(()=>a.value.number,s=>{i.setCountDown(0)},{flush:"post"}),j(()=>i.rPwdForm.numberType,s=>{!a.value.numberType&&(a.value.numberType=s)},{flush:"post"});function A(){y.push({name:"login"})}const B=async()=>{if(!ie(a.value.numberType,a.value.number.trim().length))return i.setCountDown(0),p({message:e("wrongTel"),wordBreak:"break-word"});await q(Me({phone:a.value.numberType.replace("+","")+a.value.number,codeType:ye.Registr}))?ge(e("sendSuccess")):setTimeout(()=>{i.setCountDown(0)},500)},M=U(()=>{var T;let s=e("regTip2").match(/\d+/);""+a.value.numberType;const r=(T=g.getAreaPhoneLenList.find(c=>(c==null?void 0:c.area)=="+"+a.value.numberType))==null?void 0:T.len;let _=9;return(r==null?void 0:r.indexOf("-"))!=-1?_=r==null?void 0:r.toString().split("-")[0]:_=r,s?s[0].substr(0,_):""}),Y=s=>{const r=s.target;r.value=r.value.replace(/[\s\n\t\r]/g,"")},C=async()=>{if(!ie(a.value.numberType,a.value.number.trim().length))return p({message:e("wrongTel"),wordBreak:"break-word"});if(a.value.number.charAt(0)==="0"&&a.value.numberType=="62")return p({message:e("registerNumberTip"),wordBreak:"break-word"});if(w.registerData.registerMobileState!=="1")return p({message:e("registerClose"),wordBreak:"break-word"});if(!a.value.number.trim()||n.value){n.value=!0;return}if(w.registerData.isOpenRegisterSMS!=="0")if(a.value.smsvcode.trim()){if(a.value.smsvcode.trim().length!=6)return p({message:e("verifyCode6Digits"),wordBreak:"break-word"})}else return p({message:e("registerTip1"),wordBreak:"break-word"});if(!K.passReg3.test(a.value.password)){o.value=!0;return}if(!a.value.rePassword.trim())return p({message:e("registerTip3"),wordBreak:"break-word"});if(a.value.rePassword!==a.value.password){b.value=!0;return}else b.value=!1;if(!i.userForm.termAndPolicy)return p({message:e("registerDesc1"),wordBreak:"break-word"});w.registerData.hasCaptcha==="1"?N():V("")},G=s=>{a.value.numberType=s},H=s=>{a.value.number=s},L=()=>{fe("toPath","ResetPassword"),y.push({name:"About-AboutDetail"})},l=m(),d=m(""),V=async s=>{J(async()=>{l.value.startRequestVerify();const{number:r,numberType:_,smsvcode:T,password:c,invitecode:Ce}=a.value;let Te={username:_.replace("+","")+r,smsvcode:T,registerType:a.value.registerType,pwd:c,invitecode:Ce,domainurl:window.location.hostname,phonetype:Se(),captchaId:d.value,track:s};i.register(Te).then(async O=>{if(O){const Re=se(),{token:oe,tokenHeader:Pe}=O==null?void 0:O.data;Re.setToken(oe),localStorage.setItem("tokenHeader",Pe),localStorage.setItem("numberType",i.getUserForm.numberType),localStorage.setItem("number",i.userForm.number),y.replace("/"),await i.getUserInfo({signature:oe})}}).catch(O=>{}).finally(()=>{l.value.setShowHiden(!1)})})},N=async()=>{J(async()=>{l.value.startRequestGenerate();const s=await q(ke());s?(d.value=s.data.captchaId,l.value.endRequestGenerate(s.data.backgroundImage,s.data.sliderImage)):l.value.endRequestGenerate(null,null)})};return ue(()=>{var r,_;i.setCountDown(0);const s=((r=y.currentRoute.value.query.invitationCode)==null?void 0:r.toString())||((_=y.currentRoute.value.query.r_code)==null?void 0:_.toString())||sessionStorage.getItem("invitecode")||"";s&&(a.value.invitecode=s,sessionStorage.setItem("invitecode",s)),i.getIp()}),Z((s,r)=>{s.name=="About-AboutDetail"?sessionStorage.setItem("register_a",JSON.stringify(a.value)):sessionStorage.setItem("register_a","")}),x({showPhoneValidate:n}),(s,r)=>{const _=ee("van-checkbox"),T=de("lazy");return S(),R("div",{class:"register__container",onKeydown:me(C,["enter"])},[h(Fe,{"show-validate":n.value,"onUpdate:showValidate":r[0]||(r[0]=c=>n.value=c),number:a.value.number,"onUpdate:number":r[1]||(r[1]=c=>a.value.number=c),"number-type":a.value.numberType,type:I.value,onChangeT:G,onChangeN:H,typeP:"register"},null,8,["show-validate","number","number-type","type"]),t("div",qe,[u(E)?(S(),R("span",Ge,v(u(e)("regTip1")),1)):F("",!0),u(E)?(S(),R("p",He,v(M.value),1)):F("",!0)]),s.registerData.isOpenRegisterSMS!=="0"?(S(),ce($e,{key:0,value:a.value.smsvcode,"onUpdate:value":r[2]||(r[2]=c=>a.value.smsvcode=c),sendFunc:B,number:a.value.number,numberType:a.value.numberType},null,8,["value","number","numberType"])):F("",!0),h(W,{value:a.value.password,"onUpdate:value":r[3]||(r[3]=c=>a.value.password=c),label:u(e)("setPsw")},null,8,["value","label"]),$(t("div",Le,[Ke,t("span",null,v(u(e)("pswRule")),1)],512),[[z,o.value]]),h(W,{value:a.value.rePassword,"onUpdate:value":r[4]||(r[4]=c=>a.value.rePassword=c),label:u(e)("comfirmPsw")},null,8,["value","label"]),$(t("div",ze,[t("span",null,v(u(e)("unmatchedInput")),1)],512),[[z,b.value]]),t("div",Je,[t("div",We,[$(t("img",Ye,null,512),[[T,u(Ie)("login","invitation")]]),t("span",null,v(u(e)("invitationCode")),1)]),t("div",je,[$(t("input",{type:"text","auto-complete":"new-password",autocomplete:"off",name:"userNumber","onUpdate:modelValue":r[5]||(r[5]=c=>a.value.invitecode=c),placeholder:P.value,disabled:k.value,maxlength:"20",onInput:Y},null,40,Xe),[[ve,a.value.invitecode,void 0,{trim:!0}]])])]),t("div",Qe,[h(_,{modelValue:u(i).userForm.termAndPolicy,"onUpdate:modelValue":r[7]||(r[7]=c=>u(i).userForm.termAndPolicy=c),"checked-color":"#C7A054"},{default:te(()=>[be(v(u(e)("readNagree"))+" ",1),t("span",{onClick:r[6]||(r[6]=he(c=>L(),["stop"]))},v(u(e)("desPrivacy")),1)]),_:1},8,["modelValue"])]),t("div",Ze,[t("button",{onClick:C},v(u(e)("register")),1),t("button",{class:"login",onClick:A},[t("div",et,v(u(e)("iHaveAcount")),1),t("div",tt,v(u(e)("goLogin")),1)])]),h(we,{ref_key:"captchaRef",ref:l,"refresh-color":"#FFFFFF","show-refresh":!0,onFinish:V,onRefresh:N},null,512)],40,Ue)}}});const st=re(at,[["__scopeId","data-v-be086d67"]]),rt=f=>(pe("data-v-f4ad3572"),f=f(),_e(),f),ot=["onKeydown"],nt={class:"register__container-tip"},it=rt(()=>t("div",{class:"tipbg"},null,-1)),lt={class:"register__container-tips"},ut={class:"register__container-invitation"},dt={class:"register__container-invitation__label"},ct={class:"register__container-invitation__label-icon"},vt={class:"register__container-invitation__input"},mt=["placeholder","disabled"],gt={class:"register__container-remember"},pt={class:"register__container-button"},_t={class:"account"},bt={class:"loginin"},ht=X({__name:"EmailRegister",props:{registerData:{}},setup(f,{expose:x}){const w=f,{t:e}=le(),g=m(!1),i=ae(),o=m({smsvcode:"",password:"",rePassword:"",invitecode:"",email:"",registerType:"email"}),a=m("register");sessionStorage.getItem("register")&&(o.value=JSON.parse(sessionStorage.getItem("register")||""),sessionStorage.setItem("register",""));const I=Q(),y=m(!1),n=m(!1),b=U(()=>{var l;return!!((l=I.currentRoute.value.query)!=null&&l.invitationCode)}),k=U(()=>w.registerData.isInvitecode=="1"?e("plsEnterInvitationCode"):e("notNecessary"));j(()=>o.value.email,l=>{i.setCountDown(0)},{flush:"post"});function P(){I.push({name:"login"})}const E=async()=>{if(!K.email1.test(o.value.email))return i.setCountEmailDown(0),p({message:e(ne.email),wordBreak:"break-word"});await q(Ve({email:o.value.email,emailType:ye.Registr}))?ge(e("sendSuccess")):i.setCountEmailDown(0)},A=l=>{const d=l.target;d.value=d.value.replace(/[\s\n\t\r]/g,"")},B=async()=>{if(w.registerData.registerEmailState!=="1")return p({message:e("registerClose"),wordBreak:"break-word"});if(w.registerData.isOpenRegisterEmail!=="0")if(o.value.smsvcode.trim()){if(o.value.smsvcode.trim().length!=6)return p({message:e("verifyCode6Digits"),wordBreak:"break-word"})}else return p({message:e("registerTip6"),wordBreak:"break-word"});if(!K.email1.test(o.value.email))return p({message:e(ne.email),wordBreak:"break-word"});if(!K.passReg3.test(o.value.password)){g.value=!0;return}if(!o.value.rePassword.trim())return p({message:e("registerTip3"),wordBreak:"break-word"});if(o.value.rePassword!==o.value.password){n.value=!0;return}else n.value=!1;if(!i.userForm.termAndPolicy)return p({message:e("registerDesc1"),wordBreak:"break-word"});w.registerData.hasCaptcha==="1"?L():H("")},M=l=>{o.value.email=l},Y=()=>{fe("toPath","ResetPassword"),I.push({name:"About-AboutDetail"})},C=m(),G=m(""),H=async l=>{J(async()=>{C.value.startRequestVerify();const{smsvcode:d,password:V,invitecode:N}=o.value;let s={username:o.value.email,smsvcode:d,registerType:o.value.registerType,pwd:V,invitecode:N,domainurl:window.location.hostname,phonetype:Se(),captchaId:G.value,track:l};i.register(s).then(async r=>{if(r){const _=se(),{token:T,tokenHeader:c}=r==null?void 0:r.data;_.setToken(T),localStorage.setItem("tokenHeader",c),localStorage.setItem("numberType",i.getUserForm.numberType),localStorage.setItem("number",i.userForm.number),I.replace("/"),await i.getUserInfo({signature:T})}}).catch(r=>{}).finally(()=>{C.value.setShowHiden(!1)})})},L=async()=>{J(async()=>{C.value.startRequestGenerate();const l=await q(ke());l?(G.value=l.data.captchaId,C.value.endRequestGenerate(l.data.backgroundImage,l.data.sliderImage)):C.value.endRequestGenerate(null,null)})};return ue(()=>{var d;i.setCountEmailDown(0);const l=((d=I.currentRoute.value.query.invitationCode)==null?void 0:d.toString())||"";l&&(o.value.invitecode=l)}),Z((l,d)=>{l.name=="About-AboutDetail"?sessionStorage.setItem("register",JSON.stringify(o.value)):sessionStorage.setItem("register","")}),x({showPhoneValidate:y}),(l,d)=>{const V=ee("van-checkbox"),N=de("lazy");return S(),R("div",{class:"register__container",onKeydown:me(B,["enter"])},[h(Ee,{ref:"email",type:a.value,email:o.value.email,onChangeN:M},null,8,["type","email"]),l.registerData.isOpenRegisterEmail!=="0"?(S(),ce(Be,{key:0,value:o.value.smsvcode,"onUpdate:value":d[0]||(d[0]=s=>o.value.smsvcode=s),sendFunc:E,email:o.value.email},null,8,["value","email"])):F("",!0),h(W,{value:o.value.password,"onUpdate:value":d[1]||(d[1]=s=>o.value.password=s),label:u(e)("setPsw")},null,8,["value","label"]),$(t("div",nt,[it,t("span",null,v(u(e)("pswRule")),1)],512),[[z,g.value]]),h(W,{value:o.value.rePassword,"onUpdate:value":d[2]||(d[2]=s=>o.value.rePassword=s),label:u(e)("comfirmPsw")},null,8,["value","label"]),$(t("div",lt,[t("span",null,v(u(e)("unmatchedInput")),1)],512),[[z,n.value]]),t("div",ut,[t("div",dt,[$(t("img",ct,null,512),[[N,u(Ie)("login","invitation")]]),t("span",null,v(u(e)("invitationCode")),1)]),t("div",vt,[$(t("input",{type:"text","auto-complete":"new-password",autocomplete:"off",name:"userNumber","onUpdate:modelValue":d[3]||(d[3]=s=>o.value.invitecode=s),placeholder:k.value,disabled:b.value,maxlength:"20",onInput:A},null,40,mt),[[ve,o.value.invitecode,void 0,{trim:!0}]])])]),t("div",gt,[h(V,{modelValue:u(i).userForm.termAndPolicy,"onUpdate:modelValue":d[5]||(d[5]=s=>u(i).userForm.termAndPolicy=s),"checked-color":"#C7A054"},{default:te(()=>[be(v(u(e)("readNagree"))+" ",1),t("span",{onClick:d[4]||(d[4]=he(s=>Y(),["stop"]))},v(u(e)("desPrivacy")),1)]),_:1},8,["modelValue"])]),t("div",pt,[t("button",{onClick:B},v(u(e)("register")),1),t("button",{class:"login",onClick:P},[t("div",_t,v(u(e)("iHaveAcount")),1),t("div",bt,v(u(e)("goLogin")),1)])]),h(we,{ref_key:"captchaRef",ref:C,"refresh-color":"#FFFFFF","show-refresh":!0,onFinish:H,onRefresh:L},null,512)],40,ot)}}});const ft=re(ht,[["__scopeId","data-v-f4ad3572"]]),wt={class:"resgister__C"},yt={class:"resgister__C-heading"},St={class:"resgister__C-heading__title"},kt={class:"resgister__C-heading__subTitle"},It={class:"login_container-tab"},Ct={class:"resgister__C-form"},Tt=X({__name:"index",setup(f){const{openAll:x}=Ne(),w=se();ae();const e=m({isRegisterState:"1",SMSstate:"0",registerStateMsg:"",hasCaptcha:"0",registerEmailState:"0",registerMobileState:"0",isOpenRegisterSMS:"0",isOpenRegisterEmail:"0",isInvitecode:"0"}),g=m("phone"),i=Q();w.token&&i.push({name:"home"});const o=n=>{g.value=n};Z((n,b,k)=>{k(),n.name==="home"&&x()});const a=m();function I(){i.push({name:"home"})}async function y(){var b,k,P,E,A,B,M;const n=await q(xe());n&&(e.value.isRegisterState=n.data.registerState,e.value.registerStateMsg=n.data.registerStateMsg,e.value.registerEmailState=n.data.registerEmailState,e.value.registerMobileState=(b=n.data)==null?void 0:b.registerMobileState,e.value.isOpenRegisterSMS=(k=n.data)==null?void 0:k.isOpenRegisterSMS,e.value.isOpenRegisterEmail=(P=n.data)==null?void 0:P.isOpenRegisterEmail,e.value.hasCaptcha=n.data.isOpenCaptcha,e.value.isInvitecode=(E=n.data)==null?void 0:E.isInvitecode,Number(n.data.registerEmailState)+Number((A=n.data)==null?void 0:A.registerMobileState)==0?(((B=n.data)==null?void 0:B.isOpenRegisterSMS)!=="1"&&(g.value="email"),p({message:"Registrado com Sucesso",wordBreak:"break-word"}),i.push({name:"login"})):(e.value.registerSMSState=n.data.registerSMSState,e.value.registerEmailState!=="0"&&((M=n.data)==null?void 0:M.registerMobileState)=="0"&&(g.value="email")))}return y(),(n,b)=>{const k=ee("NavBar");return S(),R("div",wt,[h(k,{onClickLeft:I,leftArrow:!0,headLogo:!0},{right:te(()=>[h(De)]),_:1}),t("div",yt,[t("h1",St,v(n.$t("register")),1),t("div",kt,[t("span",null,v(n.$t("registerbyphoneoremail")),1)])]),t("div",It,[e.value.registerMobileState!="0"?(S(),R("div",{key:0,class:D(["tab",[g.value=="phone"?"active":""]]),onClick:b[0]||(b[0]=P=>o("phone"))},[t("div",{class:D(["phonebg",[g.value=="phone"?"phoneactive":""]])},null,2),t("div",{class:D(["font30",[g.value=="phone"?"phonefont30active":""]])},v(n.$t("phoneregister")),3)],2)):F("",!0),e.value.registerEmailState!="0"?(S(),R("div",{key:1,class:D(["tab",[g.value=="email"?"active":""]]),onClick:b[1]||(b[1]=P=>o("email"))},[t("div",{class:D(["emialbg",[g.value=="email"?"emailactive":""]])},null,2),t("div",{class:D(["font30",[g.value=="email"?"emailfont30active":""]])},v(n.$t("emailregister")),3)],2)):F("",!0)]),t("div",Ct,[e.value.registerMobileState!="0"?(S(),R("div",{key:0,class:D(["tab-content",[g.value=="phone"?"activecontent":""]])},[h(st,{ref_key:"register",ref:a,registerData:e.value},null,8,["registerData"])],2)):F("",!0),e.value.registerEmailState!="0"?(S(),R("div",{key:1,class:D(["tab-content",[g.value=="email"?"activecontent":""]])},[h(ft,{ref_key:"register",ref:a,registerData:e.value},null,8,["registerData"])],2)):F("",!0)])])}}});const Kt=re(Tt,[["__scopeId","data-v-69b169c4"]]);export{Kt as default};
